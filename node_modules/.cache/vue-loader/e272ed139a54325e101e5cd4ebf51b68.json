{"remainingRequest":"/Users/natanielmarmucki/rentalbike/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/natanielmarmucki/rentalbike/app/src/views/BikeDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/natanielmarmucki/rentalbike/app/src/views/BikeDetails.vue","mtime":1589881644304},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IERhdGVUaW1lIH0gZnJvbSAnbHV4b24nCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogewogICAgYmlrZSAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmN1cnJlbnRCaWtlCiAgICB9LAogICAgZGF0ZXMgKCkgewogICAgICBjb25zdCBzdGFydCA9IERhdGVUaW1lLmZyb21JU08odGhpcy4kc3RvcmUuZ2V0dGVycy5waWNrdXBSZXNlcnZhdGlvbikKICAgICAgY29uc3QgZW5kID0gRGF0ZVRpbWUuZnJvbUlTTyh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRyb3BPZmZSZXNlcnZhdGlvbikKICAgICAgY29uc3QgZGF5c0JldHdlZW4gPSBlbmQuZGlmZihzdGFydCwgWydkYXlzJ10pCiAgICAgIGNvbnN0IHByaWNlID0gdGhpcy5iaWtlLnByaWNlICogZGF5c0JldHdlZW4udmFsdWVzLmRheXMKICAgICAgcmV0dXJuIHsKICAgICAgICBzdGFydDogc3RhcnQudG9Gb3JtYXQoJ2RkL01NL3l5eXknKSwKICAgICAgICBlbmQ6IGVuZC50b0Zvcm1hdCgnZGQvTU0veXl5eScpLAogICAgICAgIGRheXNCZXR3ZWVuOiBkYXlzQmV0d2Vlbi52YWx1ZXMuZGF5cywKICAgICAgICBwcmljZQogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudCAoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0QmlrZScsIHRoaXMuJHJvdXRlLnBhcmFtcy5zbHVnKQogICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnMucGlja3VwUmVzZXJ2YXRpb24gPT09ICcnKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXREYXRlcycsIHsKICAgICAgICB2YWx1ZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BpY2t1cCcpLAogICAgICAgIHR5cGU6ICdwaWNrdXAnCiAgICAgIH0pCiAgICB9CiAgICBpZiAodGhpcy4kc3RvcmUuZ2V0dGVycy5kcm9wT2ZmUmVzZXJ2YXRpb24gPT09ICcnKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXREYXRlcycsIHsKICAgICAgICB2YWx1ZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Ryb3BvZmYnKSwKICAgICAgICB0eXBlOiAnZHJvcG9mZicKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["BikeDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BikeDetails.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <section class=\"py-12 px-4\">\n    <div class=\"flex flex-wrap -mx-4\">\n      <div class=\"lg:w-1/2 px-4 mb-4 lg:mb-0\">\n        <img class=\"rounded shadow-md\" :src=\"bike.image.path\" alt />\n      </div>\n      <div class=\"lg:w-1/2 px-4\">\n        <h2 class=\"text-4xl mb-4 font-heading\">{{ bike.name }}</h2>\n        <p class=\"mb-6 text-gray-500 leading-relaxed\">{{ bike.name }}</p>\n        <div class=\"flex mb-6\">\n          <div class=\"flex flex-col ml-4\">\n            <div class=\"h-1/2\">\n              <ul>\n                <li>\n                  <strong>Cena za dzień:</strong>\n                  ${{bike.price}}\n                </li>\n                <li>\n                  <strong>Rezerwacja:</strong>\n                  {{dates.start}} - {{dates.end}}\n                </li>\n                <li>\n                  <strong>Liczba dni:</strong>\n                  {{dates.daysBetween}}\n                </li>\n                <li>\n                  <strong>Cena:</strong>\n                  ${{dates.price}}\n                </li>\n              </ul>\n            </div>\n            <div class=\"h-1/2\">\n            <br>\n              <router-link\n                class=\"bg-green-400 text-white font-bold py-3 px-4 rounded inline-block\"\n                :to=\"{ name: 'Reservation' }\"\n              >Kontynuuj</router-link>\n            </div>\n          </div>\n        </div>\n        <div class=\"pt-4 border-t\">\n          <h3 class=\"mb-4\">Dostępny w:</h3><span\n            class=\"inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-600 mr-2\"\n            v-for=\"location in bike.locations\"\n            :key=\"location.index\"\n          >{{ location.name }}</span>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { DateTime } from 'luxon'\nexport default {\n  computed: {\n    bike () {\n      return this.$store.getters.currentBike\n    },\n    dates () {\n      const start = DateTime.fromISO(this.$store.getters.pickupReservation)\n      const end = DateTime.fromISO(this.$store.getters.dropOffReservation)\n      const daysBetween = end.diff(start, ['days'])\n      const price = this.bike.price * daysBetween.values.days\n      return {\n        start: start.toFormat('dd/MM/yyyy'),\n        end: end.toFormat('dd/MM/yyyy'),\n        daysBetween: daysBetween.values.days,\n        price\n      }\n    }\n  },\n  beforeMount () {\n    this.$store.dispatch('getBike', this.$route.params.slug)\n    if (this.$store.getters.pickupReservation === '') {\n      this.$store.dispatch('setDates', {\n        value: localStorage.getItem('pickup'),\n        type: 'pickup'\n      })\n    }\n    if (this.$store.getters.dropOffReservation === '') {\n      this.$store.dispatch('setDates', {\n        value: localStorage.getItem('dropoff'),\n        type: 'dropoff'\n      })\n    }\n  }\n}\n</script>\n"]}]}