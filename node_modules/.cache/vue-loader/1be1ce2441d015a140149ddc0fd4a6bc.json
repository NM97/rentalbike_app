{"remainingRequest":"/Users/natanielmarmucki/rentalbike/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/natanielmarmucki/rentalbike/app/src/views/Confirmation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/natanielmarmucki/rentalbike/app/src/views/Confirmation.vue","mtime":1588092190897},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IERhdGVUaW1lIH0gZnJvbSAibHV4b24iOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IHsKICAgIHVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXIudXNlcjsKICAgIH0sCiAgICB2ZWhpY2xlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJyZW50QmlrZTsKICAgIH0sCiAgICBwaWNrdXAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgb3JpZ2luYWw6IHRoaXMuJHN0b3JlLmdldHRlcnMucGlja3VwRGF0ZSwKICAgICAgICBmb3JtYXR0ZWQ6IERhdGVUaW1lLmZyb21JU08odGhpcy4kc3RvcmUuZ2V0dGVycy5waWNrdXBEYXRlKS50b0Zvcm1hdCgKICAgICAgICAgICJkZC9NTS95eXl5IgogICAgICAgICkKICAgICAgfTsKICAgIH0sCiAgICBkcm9wb2ZmKCkgewogICAgICByZXR1cm4gewogICAgICAgIG9yaWdpbmFsOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRyb3BPZmZEYXRlLAogICAgICAgIGZvcm1hdHRlZDogRGF0ZVRpbWUuZnJvbUlTTyh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRyb3BPZmZEYXRlKS50b0Zvcm1hdCgKICAgICAgICAgICJkZC9NTS95eXl5IgogICAgICAgICkKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG1ha2VSZXNlcnZhdGlvbigpIHsKICAgICAgbGV0IHBpY2t1cCA9IERhdGVUaW1lLmZyb21JU08odGhpcy5waWNrdXAub3JpZ2luYWwpLnRvRm9ybWF0KAogICAgICAgICJ5eXl5LU1NLWRkIEhIOm1tOnNzIgogICAgICApOwogICAgICBsZXQgZHJvcG9mZiA9IERhdGVUaW1lLmZyb21JU08odGhpcy5kcm9wb2ZmLm9yaWdpbmFsKS50b0Zvcm1hdCgKICAgICAgICAieXl5eS1NTS1kZCBISDptbTpzcyIKICAgICAgKTsKICAgICAgY29uc3QgcmVzZXJ2YXRpb25EYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICByZXNlcnZhdGlvbkRhdGEuYXBwZW5kKCJ1c2VyX2lkIiwgdGhpcy51c2VyLmlkKTsKICAgICAgcmVzZXJ2YXRpb25EYXRhLmFwcGVuZCgiYmlrZV9pZCIsIHRoaXMuYmlrZS5pZCk7CiAgICAgIHJlc2VydmF0aW9uRGF0YS5hcHBlbmQoInBpY2t1cCIsIHBpY2t1cCk7CiAgICAgIHJlc2VydmF0aW9uRGF0YS5hcHBlbmQoImRyb3BvZmYiLCBkcm9wb2ZmKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm1ha2VSZXNlcnZhdGlvbiIsIHJlc2VydmF0aW9uRGF0YSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Confirmation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Confirmation.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container pt-8\">\n    <div class=\"rounded overflow-hidden shadow-lg p-8\">\n      <h2 class=\"mb-0\">Is this information correct</h2>\n      <ul class=\"my-8\">\n        <li>\n          Name:\n          <strong>{{user.name}}</strong>\n        </li>\n        <li>\n          Surname:\n          <strong>{{user.surname}}</strong>\n        </li>\n        <li>\n          Vehicle:\n          <strong>{{bike.name}}</strong>\n        </li>\n        <li>\n          Pickup:\n          <strong>{{pickup.formatted}}</strong>\n        </li>\n        <li>\n          Drop Off:\n          <strong>{{dropoff.formatted}}</strong>\n        </li>\n      </ul>\n\n      <!--<button class=\"bg-green-400 text-white font-bold py-3 px-4 rounded inline-block\" @click=\"makeReservation\">\n                Make reservation\n      </button>-->\n    </div>\n  </div>\n</template>\n\n<script>\nimport { DateTime } from \"luxon\";\nexport default {\n  computed: {\n    user() {\n      return this.$store.getter.user;\n    },\n    vehicle() {\n      return this.$store.getters.currentBike;\n    },\n    pickup() {\n      return {\n        original: this.$store.getters.pickupDate,\n        formatted: DateTime.fromISO(this.$store.getters.pickupDate).toFormat(\n          \"dd/MM/yyyy\"\n        )\n      };\n    },\n    dropoff() {\n      return {\n        original: this.$store.getters.dropOffDate,\n        formatted: DateTime.fromISO(this.$store.getters.dropOffDate).toFormat(\n          \"dd/MM/yyyy\"\n        )\n      };\n    }\n  },\n  methods: {\n    makeReservation() {\n      let pickup = DateTime.fromISO(this.pickup.original).toFormat(\n        \"yyyy-MM-dd HH:mm:ss\"\n      );\n      let dropoff = DateTime.fromISO(this.dropoff.original).toFormat(\n        \"yyyy-MM-dd HH:mm:ss\"\n      );\n      const reservationData = new URLSearchParams();\n      reservationData.append(\"user_id\", this.user.id);\n      reservationData.append(\"bike_id\", this.bike.id);\n      reservationData.append(\"pickup\", pickup);\n      reservationData.append(\"dropoff\", dropoff);\n      this.$store.dispatch(\"makeReservation\", reservationData);\n    }\n  }\n};\n</script>\n"]}]}