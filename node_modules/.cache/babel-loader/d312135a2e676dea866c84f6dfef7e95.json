{"remainingRequest":"/Users/natanielmarmucki/rentalbike/app/node_modules/babel-loader/lib/index.js!/Users/natanielmarmucki/rentalbike/app/node_modules/eslint-loader/index.js??ref--13-0!/Users/natanielmarmucki/rentalbike/app/src/store.js","dependencies":[{"path":"/Users/natanielmarmucki/rentalbike/app/src/store.js","mtime":1588094748871},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInOwppbXBvcnQgY3JlYXRlUGVyc2lzdGVkU3RhdGUgZnJvbSAndnVleC1wZXJzaXN0ZWRzdGF0ZSc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBwbHVnaW5zOiBbY3JlYXRlUGVyc2lzdGVkU3RhdGUoKV0sCiAgc3RhdGU6IHsKICAgIGJpa2VzOiBbXSwKICAgIGxvY2F0aW9uczogW10sCiAgICBmaWx0ZXJlZEJpa2VzOiBbXSwKICAgIGN1cnJlbnRCaWtlOiB7fSwKICAgIGxvY2F0aW9uOiBudWxsLAogICAgcGlja3VwOiAnJywKICAgIGRyb3BvZmY6ICcnLAogICAgdXNlcjoge30sCiAgICB0b2tlbjogJycKICB9LAogIGdldHRlcnM6IHsKICAgIGFsbEJpa2VzOiBmdW5jdGlvbiBhbGxCaWtlcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYmlrZXM7CiAgICB9LAogICAgYWxsTG9jYXRpb25zOiBmdW5jdGlvbiBhbGxMb2NhdGlvbnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvY2F0aW9uczsKICAgIH0sCiAgICBmaWx0ZXJlZEJpa2VzOiBmdW5jdGlvbiBmaWx0ZXJlZEJpa2VzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXJlZEJpa2VzOwogICAgfSwKICAgIGN1cnJlbnRCaWtlOiBmdW5jdGlvbiBjdXJyZW50QmlrZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudEJpa2U7CiAgICB9LAogICAgcGlja3VwRGF0ZTogZnVuY3Rpb24gcGlja3VwRGF0ZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUucGlja3VwOwogICAgfSwKICAgIGRyb3BPZmZEYXRlOiBmdW5jdGlvbiBkcm9wT2ZmRGF0ZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZHJvcG9mZjsKICAgIH0sCiAgICB1c2VyOiBmdW5jdGlvbiB1c2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyOwogICAgfSwKICAgIHRva2VuOiBmdW5jdGlvbiB0b2tlbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudG9rZW47CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIEdFVF9CSUtFUzogZnVuY3Rpb24gR0VUX0JJS0VTKHN0YXRlLCBiaWtlcykgewogICAgICBzdGF0ZS5iaWtlcyA9IGJpa2VzOwogICAgfSwKICAgIEdFVF9MT0NBVElPTlM6IGZ1bmN0aW9uIEdFVF9MT0NBVElPTlMoc3RhdGUsIGxvY2F0aW9ucykgewogICAgICBzdGF0ZS5sb2NhdGlvbnMgPSBsb2NhdGlvbnM7CiAgICB9LAogICAgU0VUX0ZJTFRFUkVEOiBmdW5jdGlvbiBTRVRfRklMVEVSRUQoc3RhdGUsIGJpa2VzKSB7CiAgICAgIHN0YXRlLmZpbHRlcmVkQmlrZXMgPSBiaWtlczsKICAgIH0sCiAgICBTRVRfQklLRTogZnVuY3Rpb24gU0VUX0JJS0Uoc3RhdGUsIGJpa2UpIHsKICAgICAgc3RhdGUuY3VycmVudEJpa2UgPSBiaWtlOwogICAgfSwKICAgIFNFVF9MT0NBVElPTjogZnVuY3Rpb24gU0VUX0xPQ0FUSU9OKHN0YXRlLCBsb2NhdGlvbikgewogICAgICBzdGF0ZS5sb2NhdGlvbiA9IGxvY2F0aW9uOwogICAgfSwKICAgIFNFVF9QSUNLVVA6IGZ1bmN0aW9uIFNFVF9QSUNLVVAoc3RhdGUsIGRhdGUpIHsKICAgICAgc3RhdGUucGlja3VwID0gZGF0ZTsKICAgIH0sCiAgICBTRVRfRFJPUE9GRjogZnVuY3Rpb24gU0VUX0RST1BPRkYoc3RhdGUsIGRhdGUpIHsKICAgICAgc3RhdGUuZHJvcG9mZiA9IGRhdGU7CiAgICB9LAogICAgU0VUX1VTRVI6IGZ1bmN0aW9uIFNFVF9VU0VSKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZ2V0QmlrZXM6IGZ1bmN0aW9uIGdldEJpa2VzKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9iaWtlcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCdHRVRfQklLRVMnLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0TG9jYXRpb25zOiBmdW5jdGlvbiBnZXRMb2NhdGlvbnMoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvbG9jYXRpb25zL2xpc3QnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgnR0VUX0xPQ0FUSU9OUycsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRCaWtlOiBmdW5jdGlvbiBnZXRCaWtlKF9yZWYzLCBzbHVnKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICB2YXIgYmlrZSA9IHRoaXMuc3RhdGUuYmlrZXMuZmluZChmdW5jdGlvbiAoYmlrZSkgewogICAgICAgIHJldHVybiBiaWtlLnNsdWcgPT09IHNsdWc7CiAgICAgIH0pOwogICAgICBjb21taXQoJ1NFVF9CSUtFJywgYmlrZSk7CiAgICB9LAogICAgZmlsdGVyQmlrZXM6IGZ1bmN0aW9uIGZpbHRlckJpa2VzKF9yZWY0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmNC5zdGF0ZTsKICAgICAgdmFyIGZpbHRlcmVkID0gc3RhdGUuYmlrZXMuZmlsdGVyKGZ1bmN0aW9uIChiaWtlKSB7CiAgICAgICAgdmFyIGZvdW5kTG9jYXRpb25zID0gYmlrZS5sb2NhdGlvbnMuZmluZEluZGV4KGZ1bmN0aW9uIChsb2NhdGlvbikgewogICAgICAgICAgcmV0dXJuIGxvY2F0aW9uLmlkID09PSBfdGhpcy5zdGF0ZS5sb2NhdGlvbjsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZm91bmRMb2NhdGlvbnMgIT09IC0xOwogICAgICB9KTsKICAgICAgdmFyIGZpbHRlcmVkQmlrZXMgPSBbXTsKICAgICAgZmlsdGVyZWQuZm9yRWFjaChmdW5jdGlvbiAoYmlrZSkgewogICAgICAgIGlmIChiaWtlLmRhdGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBvdmVybGFwcyA9IFtdOwogICAgICAgICAgYmlrZS5kYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChkYXRlKSB7CiAgICAgICAgICAgIHZhciBzdGFydERhdGUxID0gbmV3IERhdGUoZGF0ZS5waWNrdXApOwogICAgICAgICAgICB2YXIgZW5kRGF0ZTEgPSBuZXcgRGF0ZShkYXRlLmRyb3Bfb2ZmKTsKICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZTIgPSBuZXcgRGF0ZShfdGhpcy5zdGF0ZS5waWNrdXApOwogICAgICAgICAgICB2YXIgZW5kRGF0ZTIgPSBuZXcgRGF0ZShfdGhpcy5zdGF0ZS5kcm9wb2ZmKTsKICAgICAgICAgICAgb3ZlcmxhcHMucHVzaChzdGFydERhdGUxIDwgZW5kRGF0ZTIgJiYgc3RhcnREYXRlMiA8IGVuZERhdGUxKTsKICAgICAgICAgIH0pOyAvLyBjb25zb2xlLmxvZyhvdmVybGFwcykKCiAgICAgICAgICBpZiAoIW92ZXJsYXBzLmluY2x1ZGVzKHRydWUpKSB7CiAgICAgICAgICAgIGZpbHRlcmVkQmlrZXMucHVzaChiaWtlKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBmaWx0ZXJlZEJpa2VzLnB1c2goYmlrZSk7CiAgICAgIH0pOwogICAgICBjb21taXQoJ1NFVF9GSUxURVJFRCcsIGZpbHRlcmVkQmlrZXMpOwogICAgfSwKICAgIHNldExvY2F0aW9uOiBmdW5jdGlvbiBzZXRMb2NhdGlvbihfcmVmNSwgdmFsdWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGU7CiAgICAgIGNvbW1pdCgnU0VUX0xPQ0FUSU9OJywgdmFsdWUpOwogICAgfSwKICAgIGZpbHRlck9uQVBJOiBmdW5jdGlvbiBmaWx0ZXJPbkFQSShfcmVmNiwgdmFsdWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdDsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYmlrZXMvZmlsdGVyLycgKyB2YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoJ1NFVF9GSUxURVJFRCcsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXREYXRlczogZnVuY3Rpb24gc2V0RGF0ZXMoX3JlZjcsIGRhdGUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjcuc3RhdGU7CgogICAgICBpZiAoZGF0ZS50eXBlID09PSAncGlja3VwJykgewogICAgICAgIGNvbW1pdCgnU0VUX1BJQ0tVUCcsIGRhdGUudmFsdWUpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwaWNrdXAnLCBkYXRlLnZhbHVlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbW1pdCgnU0VUX0RST1BPRkYnLCBkYXRlLnZhbHVlKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Ryb3BvZmYnLCBkYXRlLnZhbHVlKTsKICAgIH0sCiAgICByZWdpc3RlclVzZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcihfcmVmOCwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjguY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmOC5zdGF0ZTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9hdXRoL3JlZ2lzdGVyJywgdXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luVXNlcjogZnVuY3Rpb24gbG9naW5Vc2VyKF9yZWY5LCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWY5LnN0YXRlOwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL2F1dGgvbG9naW4nLCB1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgnU0VUX1VTRVInLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ0NvbWZpcm1hdGlvbicKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBtYWtlUmVzZXJ2YXRpb246IGZ1bmN0aW9uIG1ha2VSZXNlcnZhdGlvbihfcmVmMTAsIHJlc2VydmF0aW9uRGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjEwLmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjEwLnN0YXRlOwogICAgICB2YXIgYXV0aG9yaXphdGlvbiA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyJyArIHRoaXMuc3RhdGUudG9rZW4KICAgICAgICB9CiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9jcmVhdGUtcmVzZXJ2YXRpb24nLCByZXNlcnZhdGlvbkRhdGEsIGF1dGhvcml6YXRpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/Users/natanielmarmucki/rentalbike/app/src/store.js"],"names":["Vue","Vuex","axios","router","createPersistedState","use","Store","plugins","state","bikes","locations","filteredBikes","currentBike","location","pickup","dropoff","user","token","getters","allBikes","allLocations","pickupDate","dropOffDate","mutations","GET_BIKES","GET_LOCATIONS","SET_FILTERED","SET_BIKE","bike","SET_LOCATION","SET_PICKUP","date","SET_DROPOFF","SET_USER","SET_TOKEN","actions","getBikes","commit","get","then","response","data","getLocations","getBike","slug","find","filterBikes","filtered","filter","foundLocations","findIndex","id","forEach","dates","length","overlaps","startDate1","Date","endDate1","drop_off","startDate2","endDate2","push","includes","setLocation","value","filterOnAPI","setDates","type","localStorage","setItem","registerUser","post","console","log","loginUser","name","catch","error","makeReservation","reservationData","authorization","headers","Authorization"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nimport router from './router'\nimport createPersistedState from 'vuex-persistedstate'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  plugins: [createPersistedState()],\n  state: {\n    bikes: [],\n    locations: [],\n    filteredBikes: [],\n    currentBike: {},\n    location: null,\n    pickup: '',\n    dropoff: '',\n    user: {},\n    token: ''\n\n  },\n  getters: {\n    allBikes: state => state.bikes,\n    allLocations: state => state.locations,\n    filteredBikes: state => state.filteredBikes,\n    currentBike: state => state.currentBike,\n    pickupDate: state => state.pickup,\n    dropOffDate: state => state.dropoff,\n    user: state => state.user,\n    token: state => state.token\n  },\n  mutations: {\n    GET_BIKES: (state, bikes) => {\n      state.bikes = bikes\n    },\n    GET_LOCATIONS: (state, locations) => {\n      state.locations = locations\n    },\n    SET_FILTERED: (state, bikes) => {\n      state.filteredBikes = bikes\n    },\n    SET_BIKE: (state, bike) => {\n      state.currentBike = bike\n    },\n    SET_LOCATION: (state, location) => {\n      state.location = location\n    },\n    SET_PICKUP: (state, date) => {\n      state.pickup = date\n    },\n    SET_DROPOFF: (state, date) => {\n      state.dropoff = date\n    },\n    SET_USER: (state, user) => {\n      state.user = user\n    },\n    SET_TOKEN: (state, token) => {\n      state.token = token\n    }\n  },\n  actions: {\n    getBikes ({ commit }) {\n      axios.get('http://127.0.0.1:8000/bikes').then(response => {\n        commit('GET_BIKES', response.data)\n      })\n    },\n    getLocations ({ commit }) {\n      axios.get('http://127.0.0.1:8000/locations/list').then(response => {\n        commit('GET_LOCATIONS', response.data)\n      })\n    },\n    getBike ({ commit, state }, slug) {\n      const bike = this.state.bikes.find(bike => bike.slug === slug)\n      commit('SET_BIKE', bike)\n    },\n    filterBikes ({ commit, state }) {\n      const filtered = state.bikes.filter(bike => {\n        const foundLocations = bike.locations.findIndex(location => {\n          return location.id === this.state.location\n        })\n        return foundLocations !== -1\n      })\n      const filteredBikes = []\n\n      filtered.forEach(bike => {\n        if (bike.dates.length > 0) {\n          const overlaps = []\n\n          bike.dates.forEach(date => {\n            const startDate1 = new Date(date.pickup)\n            const endDate1 = new Date(date.drop_off)\n            const startDate2 = new Date(this.state.pickup)\n            const endDate2 = new Date(this.state.dropoff)\n\n            overlaps.push((startDate1 < endDate2) && (startDate2 < endDate1))\n          })\n\n          // console.log(overlaps)\n          if (!overlaps.includes(true)) {\n            filteredBikes.push(bike)\n          }\n          return\n        }\n\n        filteredBikes.push(bike)\n      })\n\n      commit('SET_FILTERED', filteredBikes)\n    },\n    setLocation ({ commit, state }, value) {\n      commit('SET_LOCATION', value)\n    },\n    filterOnAPI ({ commit }, value) {\n      axios.get('http://127.0.0.1:8000/bikes/filter/' + value).then(response => {\n        commit('SET_FILTERED', response.data)\n      })\n    },\n    setDates ({ commit, state }, date) {\n      if (date.type === 'pickup') {\n        commit('SET_PICKUP', date.value)\n        localStorage.setItem('pickup', date.value)\n        return\n      }\n\n      commit('SET_DROPOFF', date.value)\n      localStorage.setItem('dropoff', date.value)\n    },\n    registerUser ({ commit, state }, user) {\n      axios\n        .post('http://127.0.0.1:8000/api/auth/register', user)\n        .then(response => {\n          console.log(response)\n        })\n    },\n    loginUser ({ commit, state }, user) {\n      axios.post('http://127.0.0.1:8000/api/auth/login', user)\n        .then(response => {\n          commit('SET_USER', response.data.user)\n          commit('SET_TOKEN', response.data.token)\n\n          router.push({ name: 'Comfirmation' })\n        }).catch(error => {\n          console.log(error.response)\n        })\n    },\n    makeReservation ({ commit, state }, reservationData) {\n      const authorization = {\n        headers: {\n          Authorization: 'Bearer' + this.state.token\n        }\n      }\n      axios\n        .post(\n          'http://127.0.0.1:8000/create-reservation',\n          reservationData, authorization)\n        .then(response => {\n          console.log(response)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n\n  }\n})\n"]}]}