{"remainingRequest":"/Users/natanielmarmucki/rentalbike/app/node_modules/babel-loader/lib/index.js!/Users/natanielmarmucki/rentalbike/app/node_modules/eslint-loader/index.js??ref--13-0!/Users/natanielmarmucki/rentalbike/app/src/store.js","dependencies":[{"path":"/Users/natanielmarmucki/rentalbike/app/src/store.js","mtime":1589481087779},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/natanielmarmucki/rentalbike/app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCBjcmVhdGVQZXJzaXN0ZWRTdGF0ZSBmcm9tICd2dWV4LXBlcnNpc3RlZHN0YXRlJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHBsdWdpbnM6IFtjcmVhdGVQZXJzaXN0ZWRTdGF0ZSgpXSwKICBzdGF0ZTogewogICAgYmlrZXM6IFtdLAogICAgbG9jYXRpb25zOiBbXSwKICAgIGZpbHRlcmVkQmlrZXM6IFtdLAogICAgY3VycmVudEJpa2U6IHt9LAogICAgbG9jYXRpb246IG51bGwsCiAgICBwaWNrdXA6ICcnLAogICAgZHJvcG9mZjogJycsCiAgICB1c2VyOiB7fSwKICAgIHRva2VuOiAnJywKICAgIGxvZ2luRXJyb3JzOiBbXSwKICAgIGludmFsaWRDcmVkZW50aWFsczogJycKICB9LAogIGdldHRlcnM6IHsKICAgIGFsbEJpa2VzOiBmdW5jdGlvbiBhbGxCaWtlcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYmlrZXM7CiAgICB9LAogICAgYWxsTG9jYXRpb25zOiBmdW5jdGlvbiBhbGxMb2NhdGlvbnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvY2F0aW9uczsKICAgIH0sCiAgICBmaWx0ZXJlZEJpa2VzOiBmdW5jdGlvbiBmaWx0ZXJlZEJpa2VzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXJlZEJpa2VzOwogICAgfSwKICAgIGN1cnJlbnRCaWtlOiBmdW5jdGlvbiBjdXJyZW50QmlrZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudEJpa2U7CiAgICB9LAogICAgcGlja3VwUmVzZXJ2YXRpb246IGZ1bmN0aW9uIHBpY2t1cFJlc2VydmF0aW9uKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5waWNrdXA7CiAgICB9LAogICAgZHJvcE9mZlJlc2VydmF0aW9uOiBmdW5jdGlvbiBkcm9wT2ZmUmVzZXJ2YXRpb24oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRyb3BvZmY7CiAgICB9LAogICAgdXNlcjogZnVuY3Rpb24gdXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcjsKICAgIH0sCiAgICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRva2VuOwogICAgfSwKICAgIGxvZ2luRXJyb3JzOiBmdW5jdGlvbiBsb2dpbkVycm9ycyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9naW5FcnJvcnM7CiAgICB9LAogICAgaW52YWxpZENyZWRlbnRpYWxzOiBmdW5jdGlvbiBpbnZhbGlkQ3JlZGVudGlhbHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmludmFsaWRDcmVkZW50aWFsczsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgR0VUX0JJS0VTOiBmdW5jdGlvbiBHRVRfQklLRVMoc3RhdGUsIGJpa2VzKSB7CiAgICAgIHN0YXRlLmJpa2VzID0gYmlrZXM7CiAgICB9LAogICAgR0VUX0xPQ0FUSU9OUzogZnVuY3Rpb24gR0VUX0xPQ0FUSU9OUyhzdGF0ZSwgbG9jYXRpb25zKSB7CiAgICAgIHN0YXRlLmxvY2F0aW9ucyA9IGxvY2F0aW9uczsKICAgIH0sCiAgICBTRVRfRklMVEVSRUQ6IGZ1bmN0aW9uIFNFVF9GSUxURVJFRChzdGF0ZSwgYmlrZXMpIHsKICAgICAgc3RhdGUuZmlsdGVyZWRCaWtlcyA9IGJpa2VzOwogICAgfSwKICAgIFNFVF9CSUtFOiBmdW5jdGlvbiBTRVRfQklLRShzdGF0ZSwgYmlrZSkgewogICAgICBzdGF0ZS5jdXJyZW50QmlrZSA9IGJpa2U7CiAgICB9LAogICAgU0VUX0xPQ0FUSU9OOiBmdW5jdGlvbiBTRVRfTE9DQVRJT04oc3RhdGUsIGxvY2F0aW9uKSB7CiAgICAgIHN0YXRlLmxvY2F0aW9uID0gbG9jYXRpb247CiAgICB9LAogICAgU0VUX1BJQ0tVUDogZnVuY3Rpb24gU0VUX1BJQ0tVUChzdGF0ZSwgcmVzZXJ2YXRpb24pIHsKICAgICAgc3RhdGUucGlja3VwID0gcmVzZXJ2YXRpb247CiAgICB9LAogICAgU0VUX0RST1BPRkY6IGZ1bmN0aW9uIFNFVF9EUk9QT0ZGKHN0YXRlLCByZXNlcnZhdGlvbikgewogICAgICBzdGF0ZS5kcm9wb2ZmID0gcmVzZXJ2YXRpb247CiAgICB9LAogICAgU0VUX1VTRVI6IGZ1bmN0aW9uIFNFVF9VU0VSKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIFNFVF9MT0dJTl9FUlJPUlM6IGZ1bmN0aW9uIFNFVF9MT0dJTl9FUlJPUlMoc3RhdGUsIGxvZ2luRXJyb3JzKSB7CiAgICAgIHN0YXRlLmxvZ2luRXJyb3JzID0gbG9naW5FcnJvcnM7CiAgICB9LAogICAgU0VUX0lOVkFMSURfQ1JFREVOVElBTFM6IGZ1bmN0aW9uIFNFVF9JTlZBTElEX0NSRURFTlRJQUxTKHN0YXRlLCBpbnZhbGlkQ3JlZGVudGlhbHMpIHsKICAgICAgc3RhdGUuaW52YWxpZENyZWRlbnRpYWxzID0gaW52YWxpZENyZWRlbnRpYWxzOwogICAgfSwKICAgIExPR09VVDogZnVuY3Rpb24gTE9HT1VUKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBnZXRCaWtlczogZnVuY3Rpb24gZ2V0QmlrZXMoX3JlZikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2Jpa2VzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoJ0dFVF9CSUtFUycsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRMb2NhdGlvbnM6IGZ1bmN0aW9uIGdldExvY2F0aW9ucyhfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9sb2NhdGlvbnMvbGlzdCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCdHRVRfTE9DQVRJT05TJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEJpa2U6IGZ1bmN0aW9uIGdldEJpa2UoX3JlZjMsIHNsdWcpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgdmFyIGJpa2UgPSB0aGlzLnN0YXRlLmJpa2VzLmZpbmQoZnVuY3Rpb24gKGJpa2UpIHsKICAgICAgICByZXR1cm4gYmlrZS5zbHVnID09PSBzbHVnOwogICAgICB9KTsKICAgICAgY29tbWl0KCdTRVRfQklLRScsIGJpa2UpOwogICAgfSwKICAgIGZpbHRlckJpa2VzOiBmdW5jdGlvbiBmaWx0ZXJCaWtlcyhfcmVmNCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CiAgICAgIHZhciBmaWx0ZXJlZCA9IHN0YXRlLmJpa2VzLmZpbHRlcihmdW5jdGlvbiAoYmlrZSkgewogICAgICAgIHZhciBmb3VuZExvY2F0aW9ucyA9IGJpa2UubG9jYXRpb25zLmZpbmRJbmRleChmdW5jdGlvbiAobG9jYXRpb24pIHsKICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5pZCA9PT0gX3RoaXMuc3RhdGUubG9jYXRpb247CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZvdW5kTG9jYXRpb25zICE9PSAtMTsKICAgICAgfSk7CiAgICAgIHZhciBmaWx0ZXJlZEJpa2VzID0gW107CiAgICAgIGZpbHRlcmVkLmZvckVhY2goZnVuY3Rpb24gKGJpa2UpIHsKICAgICAgICBpZiAoYmlrZS5yZXNlcnZhdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIG92ZXJsYXBzID0gW107CiAgICAgICAgICBiaWtlLnJlc2VydmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChyZXNlcnZhdGlvbikgewogICAgICAgICAgICB2YXIgc3RhcnREYXRlMSA9IG5ldyBEYXRlKHJlc2VydmF0aW9uLnBpY2t1cCk7CiAgICAgICAgICAgIHZhciBlbmREYXRlMSA9IG5ldyBEYXRlKHJlc2VydmF0aW9uLmRyb3BvZmYpOwogICAgICAgICAgICB2YXIgc3RhcnREYXRlMiA9IG5ldyBEYXRlKF90aGlzLnN0YXRlLnBpY2t1cCk7CiAgICAgICAgICAgIHZhciBlbmREYXRlMiA9IG5ldyBEYXRlKF90aGlzLnN0YXRlLmRyb3BvZmYpOwogICAgICAgICAgICBvdmVybGFwcy5wdXNoKHN0YXJ0RGF0ZTEgPCBlbmREYXRlMiAmJiBzdGFydERhdGUyIDwgZW5kRGF0ZTEpOwogICAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKG92ZXJsYXBzKQoKICAgICAgICAgIGlmICghb3ZlcmxhcHMuaW5jbHVkZXModHJ1ZSkpIHsKICAgICAgICAgICAgZmlsdGVyZWRCaWtlcy5wdXNoKGJpa2UpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGZpbHRlcmVkQmlrZXMucHVzaChiaWtlKTsKICAgICAgfSk7CiAgICAgIGNvbW1pdCgnU0VUX0ZJTFRFUkVEJywgZmlsdGVyZWRCaWtlcyk7CiAgICB9LAogICAgc2V0TG9jYXRpb246IGZ1bmN0aW9uIHNldExvY2F0aW9uKF9yZWY1LCB2YWx1ZSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICBjb21taXQoJ1NFVF9MT0NBVElPTicsIHZhbHVlKTsKICAgIH0sCiAgICBmaWx0ZXJPbkFQSTogZnVuY3Rpb24gZmlsdGVyT25BUEkoX3JlZjYsIHZhbHVlKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2Jpa2VzL2ZpbHRlci8nICsgdmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCdTRVRfRklMVEVSRUQnLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0RGF0ZXM6IGZ1bmN0aW9uIHNldERhdGVzKF9yZWY3LCByZXNlcnZhdGlvbikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjcuY29tbWl0OwoKICAgICAgaWYgKHJlc2VydmF0aW9uLnR5cGUgPT09ICdwaWNrdXAnKSB7CiAgICAgICAgY29tbWl0KCdTRVRfUElDS1VQJywgcmVzZXJ2YXRpb24udmFsdWUpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwaWNrdXAnLCByZXNlcnZhdGlvbi52YWx1ZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb21taXQoJ1NFVF9EUk9QT0ZGJywgcmVzZXJ2YXRpb24udmFsdWUpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZHJvcG9mZicsIHJlc2VydmF0aW9uLnZhbHVlKTsKICAgIH0sCiAgICByZWdpc3RlclVzZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcih1c2VyKSB7CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvYXV0aC9yZWdpc3RlcicsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIGFsZXJ0KCdSZWplc3RyYWNqYSBwcnplYmllZ8WCYSBwb3ByYXduaWUnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgYWxlcnQoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmOCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjguY29tbWl0OwogICAgICBjb21taXQoJ0xPR09VVCcpOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0hvbWUnCiAgICAgIH0pOwogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsgLy8gY29uc29sZS5sb2coJ0hvbWUnKQogICAgICAvLyByb3V0ZXIucHVzaCh7IG5hbWU6ICdIb21lJyB9KQogICAgfSwKICAgIGxvZ2luVXNlcjogZnVuY3Rpb24gbG9naW5Vc2VyKF9yZWY5LCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvYXV0aC9sb2dpbicsIHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCByZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgICBjb21taXQoJ1NFVF9VU0VSJywgcmVzcG9uc2UuZGF0YS51c2VyKTsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnQ29uZmlybWF0aW9uJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ1NFVF9JTlZBTElEX0NSRURFTlRJQUxTJywgJycpOwogICAgICAgIGNvbW1pdCgnU0VUX0xPR0lOX0VSUk9SUycsIFtdKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CgogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKSB7CiAgICAgICAgICBjb21taXQoJ1NFVF9JTlZBTElEX0NSRURFTlRJQUxTJywgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBlcnJvcnMgPSBbXTsKCiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpOyBfaSA8IF9PYmplY3Qka2V5cy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICB2YXIga2V5ID0gX09iamVjdCRrZXlzW19pXTsKICAgICAgICAgICAgICBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yc1trZXldLmZvckVhY2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3JzKTsKICAgICAgICAgICAgY29tbWl0KCdTRVRfTE9HSU5fRVJST1JTJywgZXJyb3JzKTsKICAgICAgICAgIH0pKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBtYWtlUmVzZXJ2YXRpb246IGZ1bmN0aW9uIG1ha2VSZXNlcnZhdGlvbihyZXNlcnZhdGlvbkRhdGEpIHsKICAgICAgY29uc29sZS5sb2cocmVzZXJ2YXRpb25EYXRhKTsKICAgICAgdmFyIGF1dGhvcml6YXRpb24gPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLnN0YXRlLnRva2VuKQogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2NyZWF0ZS1yZXNlcnZhdGlvbicsIHJlc2VydmF0aW9uRGF0YSwgYXV0aG9yaXphdGlvbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/Users/natanielmarmucki/rentalbike/app/src/store.js"],"names":["Vue","Vuex","axios","router","createPersistedState","use","Store","plugins","state","bikes","locations","filteredBikes","currentBike","location","pickup","dropoff","user","token","loginErrors","invalidCredentials","getters","allBikes","allLocations","pickupReservation","dropOffReservation","mutations","GET_BIKES","GET_LOCATIONS","SET_FILTERED","SET_BIKE","bike","SET_LOCATION","SET_PICKUP","reservation","SET_DROPOFF","SET_USER","SET_TOKEN","SET_LOGIN_ERRORS","SET_INVALID_CREDENTIALS","LOGOUT","actions","getBikes","commit","get","then","response","data","getLocations","getBike","slug","find","filterBikes","filtered","filter","foundLocations","findIndex","id","forEach","reservations","length","overlaps","startDate1","Date","endDate1","startDate2","endDate2","push","includes","setLocation","value","filterOnAPI","setDates","type","localStorage","setItem","registerUser","post","console","log","alert","catch","error","logout","name","reload","loginUser","errors","Object","keys","key","err","makeReservation","reservationData","authorization","headers","Authorization"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nimport router from './router'\nimport createPersistedState from 'vuex-persistedstate'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  plugins: [createPersistedState()],\n  state: {\n    bikes: [],\n    locations: [],\n    filteredBikes: [],\n    currentBike: {},\n    location: null,\n    pickup: '',\n    dropoff: '',\n    user: {},\n    token: '',\n    loginErrors: [],\n    invalidCredentials: ''\n\n  },\n  getters: {\n    allBikes: state => state.bikes,\n    allLocations: state => state.locations,\n    filteredBikes: state => state.filteredBikes,\n    currentBike: state => state.currentBike,\n    pickupReservation: state => state.pickup,\n    dropOffReservation: state => state.dropoff,\n    user: state => state.user,\n    token: state => state.token,\n    loginErrors: state => state.loginErrors,\n    invalidCredentials: state => state.invalidCredentials\n\n  },\n  mutations: {\n    GET_BIKES: (state, bikes) => {\n      state.bikes = bikes\n    },\n    GET_LOCATIONS: (state, locations) => {\n      state.locations = locations\n    },\n    SET_FILTERED: (state, bikes) => {\n      state.filteredBikes = bikes\n    },\n    SET_BIKE: (state, bike) => {\n      state.currentBike = bike\n    },\n    SET_LOCATION: (state, location) => {\n      state.location = location\n    },\n    SET_PICKUP: (state, reservation) => {\n      state.pickup = reservation\n    },\n    SET_DROPOFF: (state, reservation) => {\n      state.dropoff = reservation\n    },\n    SET_USER: (state, user) => {\n      state.user = user\n    },\n    SET_TOKEN: (state, token) => {\n      state.token = token\n    },\n    SET_LOGIN_ERRORS: (state, loginErrors) => {\n      state.loginErrors = loginErrors\n    },\n    SET_INVALID_CREDENTIALS: (state, invalidCredentials) => {\n      state.invalidCredentials = invalidCredentials\n    },\n    LOGOUT: (state) => {\n      state.token = ''\n    }\n  },\n  actions: {\n    getBikes ({ commit }) {\n      axios.get('http://127.0.0.1:8000/bikes').then(response => {\n        commit('GET_BIKES', response.data)\n      })\n    },\n    getLocations ({ commit }) {\n      axios.get('http://127.0.0.1:8000/locations/list').then(response => {\n        commit('GET_LOCATIONS', response.data)\n      })\n    },\n    getBike ({ commit }, slug) {\n      const bike = this.state.bikes.find(bike => bike.slug === slug)\n      commit('SET_BIKE', bike)\n    },\n    filterBikes ({ commit, state }) {\n      const filtered = state.bikes.filter(bike => {\n        const foundLocations = bike.locations.findIndex(location => {\n          return location.id === this.state.location\n        })\n        return foundLocations !== -1\n      })\n      const filteredBikes = []\n\n      filtered.forEach(bike => {\n        if (bike.reservations.length > 0) {\n          const overlaps = []\n\n          bike.reservations.forEach(reservation => {\n            const startDate1 = new Date(reservation.pickup)\n            const endDate1 = new Date(reservation.dropoff)\n            const startDate2 = new Date(this.state.pickup)\n            const endDate2 = new Date(this.state.dropoff)\n\n            overlaps.push((startDate1 < endDate2) && (startDate2 < endDate1))\n          })\n\n          // console.log(overlaps)\n          if (!overlaps.includes(true)) {\n            filteredBikes.push(bike)\n          }\n          return\n        }\n\n        filteredBikes.push(bike)\n      })\n\n      commit('SET_FILTERED', filteredBikes)\n    },\n    setLocation ({ commit }, value) {\n      commit('SET_LOCATION', value)\n    },\n    filterOnAPI ({ commit }, value) {\n      axios.get('http://127.0.0.1:8000/bikes/filter/' + value).then(response => {\n        commit('SET_FILTERED', response.data)\n      })\n    },\n    setDates ({ commit }, reservation) {\n      if (reservation.type === 'pickup') {\n        commit('SET_PICKUP', reservation.value)\n        localStorage.setItem('pickup', reservation.value)\n        return\n      }\n      commit('SET_DROPOFF', reservation.value)\n      localStorage.setItem('dropoff', reservation.value)\n    },\n\n    registerUser (user) {\n      axios\n        .post('http://127.0.0.1:8000/api/auth/register', user)\n        .then(response => {\n          console.log(response)\n          alert('Rejestracja przebiegła poprawnie')\n        })\n        .catch(error => {\n          alert(error)\n        })\n    },\n\n    logout ({ commit }) {\n      commit('LOGOUT')\n      router.push({ name: 'Home' })\n      location.reload()\n      // console.log('Home')\n      // router.push({ name: 'Home' })\n    },\n\n    loginUser ({ commit }, user) {\n      axios\n        .post('http://127.0.0.1:8000/api/auth/login', user)\n        .then(response => {\n          console.log(response.data.token)\n          commit('SET_TOKEN', response.data.token)\n          commit('SET_USER', response.data.user)\n\n          router.push({ name: 'Confirmation' })\n        })\n        .catch(error => {\n          commit('SET_INVALID_CREDENTIALS', '')\n          commit('SET_LOGIN_ERRORS', [])\n          console.log(error.response)\n\n          if (error.response.data.error) {\n            commit('SET_INVALID_CREDENTIALS', error.response.data.error)\n          } else {\n            const errors = []\n\n            for (const key of Object.keys(error.response.data.errors)) {\n              error.response.data.errors[key].forEach(err => {\n                errors.push(err)\n              })\n            }\n\n            console.log(errors)\n\n            commit('SET_LOGIN_ERRORS', errors)\n          }\n        })\n    },\n\n    makeReservation (reservationData) {\n      console.log(reservationData)\n      const authorization = {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`\n        }\n      }\n      axios\n        .post(\n          'http://127.0.0.1:8000/create-reservation',\n          reservationData,\n          authorization\n        )\n        .then(response => {\n          console.log(response)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  }\n})\n"]}]}